{"ast":null,"code":"import _toConsumableArray from\"/home/kislay/Desktop/YellowClass/photobooth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/kislay/Desktop/YellowClass/photobooth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import Placeholder from'./Placeholder';import axios from'axios';import'./canvas.css';import BottomScrollListener from'react-bottom-scroll-listener';import left from\"./left-chevron.png\";import right from\"./right-chevron.png\";var hexToRgb=function hexToRgb(hex){var result=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null;};var Canvas=function Canvas(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"https://api.unsplash.com/\"),_useState4=_slicedToArray(_useState3,2),url=_useState4[0],setUrl=_useState4[1];var _useState5=useState(\"rFp4zeyJjvfOk8MSAtEemJl1PXFNPRYlM_fQL21vB-k\"),_useState6=_slicedToArray(_useState5,2),accessKey=_useState6[0],setAccessKey=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),choice=_useState8[0],setChoice=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),choiceList=_useState10[0],setChoiceList=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),TopicRender1=_useState12[0],setTopicRender1=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),TopicRender2=_useState14[0],setTopicRender2=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),TopicRender3=_useState16[0],setTopicRender3=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),wallRender1=_useState18[0],setWallrender1=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),wallRender2=_useState20[0],setWallrender2=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),wallRender3=_useState22[0],setWallrender3=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),wallRender4=_useState24[0],setWallrender4=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),wallRender5=_useState26[0],setWallrender5=_useState26[1];var _useState27=useState([]),_useState28=_slicedToArray(_useState27,2),urlList=_useState28[0],setUrlList=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),showModal=_useState30[0],setShowModal=_useState30[1];var _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),modalUrl=_useState32[0],setModalUrl=_useState32[1];var _useState33=useState(1),_useState34=_slicedToArray(_useState33,2),pageCount=_useState34[0],setPageCount=_useState34[1];var _useState35=useState(0),_useState36=_slicedToArray(_useState35,2),modalCount=_useState36[0],setModalCount=_useState36[1];var _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),TopicRenderOnce=_useState38[0],setRenderOnce=_useState38[1];var _useState39=useState([\"Animals\",\"programming\",\"Music\",\"Art\",\"Food\",\"Video Games\",\"Fashion\",\"historical\",\"Web Design\",\"Landscape\",\"Beautiful women\",\"Beautiful men\",\"Cars\",\"Hairstyles\",\"Cute\",\"Adventure\",\"Sports\",\"Cinema\",\"Culture\",\"Startup\",\"LifeStyle\",\"Dance\"]),_useState40=_slicedToArray(_useState39,2),topicList=_useState40[0],setTopicList=_useState40[1];var makeChoiceList=function makeChoiceList(topic){console.log(topic);setChoiceList(function(prevState){return[].concat(_toConsumableArray(prevState),[topic]);});};var getModalUrl=function getModalUrl(url){setModalUrl(url);};var handleLeftImageModal=function handleLeftImageModal(event){event.stopPropagation();setModalCount(function(prev){var x=prev-1;if(x>=0){setModalUrl(urlList[x]);return x;}return prev;});};var handleRightImageModal=function handleRightImageModal(event){event.stopPropagation();setModalCount(function(prev){var x=prev+1;if(x<urlList.length){setModalUrl(urlList[x]);return x;}return prev;});};useEffect(function(){for(var i=0;i<urlList.length;i++){if(modalUrl==urlList[i][2]){setModalUrl(urlList[i]);setShowModal(true);setModalCount(i);break;}}},[modalUrl]);var loadData=function loadData(){setLoading(true);if(choiceList!=[]){choiceList.map(function(value){axios.get(\"\".concat(url,\"search/photos?page=\").concat(pageCount,\"&client_id=\").concat(accessKey,\"&query=\").concat(value)).then(function(res){res.data.results.map(function(value,index){var rgb=hexToRgb(value.color);var width=value.width;var height=value.height;var id=value;var ar=width/height;var w=width/6;var h=height/6;if(ar<=0.56){width=\"20em\";height=\"26.5em\";}else if(ar<=0.71){width=\"20em\";height=\"24em\";}else if(ar<=1){width=\"20em\";height=\"20em\";}else if(ar<=1.25){width=\"20em\";height=\"16em\";}else{width=\"20em\";height=\"14em\";}var url_img=value.urls.regular;var modal_elem=[w,h,url_img];var elem=/*#__PURE__*/_jsx(Placeholder,{main:true,addUrl:function addUrl(val){return getModalUrl(val);},id:id,width:width,height:height,color:\"\".concat(rgb.r,\", \").concat(rgb.g,\", \").concat(rgb.g),url:url_img});index=index%5;setUrlList(function(prev){return[].concat(_toConsumableArray(prev),[modal_elem]);});if(index%5==0){setWallrender1(function(prevState){return[].concat(_toConsumableArray(prevState),[elem]);});}else if(index%4==0){setWallrender2(function(prevState){return[].concat(_toConsumableArray(prevState),[elem]);});}else if(index%3==0&&index){setWallrender3(function(prevState){return[].concat(_toConsumableArray(prevState),[elem]);});}else if(index%2==0&&index!=0){setWallrender4(function(prevState){return[].concat(_toConsumableArray(prevState),[elem]);});}else{setWallrender5(function(prevState){return[].concat(_toConsumableArray(prevState),[elem]);});}});});});}setLoading(false);setPageCount(function(prev){return prev+1;});};useEffect(function(){if(!choice&&!TopicRenderOnce){topicList.map(function(value,index){axios.get(\"\".concat(url,\"search/photos?page=1&client_id=\").concat(accessKey,\"&query=\").concat(value)).then(function(res){var rgb=hexToRgb(res.data.results[0].color);var width=res.data.results[0].width;var height=res.data.results[0].height;var ar=width/height;if(ar<=0.56){width=\"16em\";height=\"22.5em\";}else if(ar<=0.71){width=\"16em\";height=\"20em\";}else if(ar<=1){width=\"16em\";height=\"16em\";}else if(ar<=1.25){width=\"16em\";height=\"12em\";}else{width=\"16em\";height=\"10em\";}var url_img=res.data.results[0].urls.regular;var elem=/*#__PURE__*/_jsx(Placeholder,{id:index,main:false,addTopic:function addTopic(val){return makeChoiceList(val);},topic:value,width:width,height:height,color:\"\".concat(rgb.r,\", \").concat(rgb.g,\", \").concat(rgb.g),url:url_img});if(index%3==0&&index!=0){setTopicRender3(function(prev){return[].concat(_toConsumableArray(prev),[elem]);});}else if(index%2==0&&index!=0){setTopicRender2(function(prev){return[].concat(_toConsumableArray(prev),[elem]);});}else{setTopicRender1(function(prev){return[].concat(_toConsumableArray(prev),[elem]);});}});return value;});}setRenderOnce(true);},[]);return/*#__PURE__*/_jsx(_Fragment,{children:!showModal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",width:\"100vw\",height:\"6em\",backgroundColor:\"white\",boxShadow:\"0 8px 6px -6px #b0b0b0\",position:\"sticky\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"Company\",style:{flexGrow:2,margin:\"auto\"},children:/*#__PURE__*/_jsx(\"h2\",{style:{margin:\"0\"},children:\"PhotoBooth\"})}),/*#__PURE__*/_jsx(\"div\",{style:{flexGrow:8},children:\" \"}),/*#__PURE__*/_jsx(\"div\",{style:{flexgrow:2},children:\" \"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Row\",children:!choice?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"First-card\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Select your favourite topics\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Row2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Column\",children:TopicRender1}),/*#__PURE__*/_jsx(\"div\",{className:\"Column\",children:TopicRender2}),/*#__PURE__*/_jsx(\"div\",{className:\"Column\",children:TopicRender3})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",onClick:function onClick(){setChoice(true);loadData();},children:/*#__PURE__*/_jsx(\"p\",{style:{color:\"white\",margin:\"0\"},children:\"Done\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"Column\",children:wallRender1}),/*#__PURE__*/_jsx(\"div\",{className:\"Column\",children:wallRender2}),/*#__PURE__*/_jsx(\"div\",{className:\"Column\",children:wallRender3}),/*#__PURE__*/_jsx(\"div\",{className:\"Column\",children:wallRender4}),/*#__PURE__*/_jsx(\"div\",{className:\"Column\",children:wallRender5}),/*#__PURE__*/_jsx(BottomScrollListener,{onBottom:function onBottom(){return loadData();}})]})})]}):/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setShowModal(false);},className:\"Row3\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){return handleLeftImageModal(e);},className:\"arrow\",style:{right:\"0\",marginTop:modalUrl[1]/2.3+20},children:/*#__PURE__*/_jsx(\"img\",{style:{height:\"100%\",width:\"100%\"},src:left})}),/*#__PURE__*/_jsx(\"div\",{style:{width:modalUrl[0],height:modalUrl[1],marginTop:\"20px\",boxShadow:\"0 2.8px 2.2px rgba(92, 92, 92, 0.034), 0 6.7px 5.3px rgba(92, 92, 92, 0.048), 0 12.5px 10px rgba(92, 92, 92, 0.06), 0 22.3px 17.9px rgba(92, 92, 92, 0.072), 0 41.8px 33.4px rgba(92, 92, 92, 0.086), 0 100px 80px rgba(92, 92, 92, 0.12)\"},children:/*#__PURE__*/_jsx(\"img\",{style:{height:\"100%\",width:\"100%\"},src:modalUrl[2]})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){return handleRightImageModal(e);},className:\"arrow\",style:{left:\"0\",marginTop:modalUrl[1]/2.3+20},children:/*#__PURE__*/_jsx(\"img\",{style:{height:\"100%\",width:\"100%\"},src:right})})]})});};export default Canvas;","map":{"version":3,"sources":["/home/kislay/Desktop/YellowClass/photobooth/src/component/Canvas.js"],"names":["React","useEffect","useState","Placeholder","axios","BottomScrollListener","left","right","hexToRgb","hex","result","exec","r","parseInt","g","b","Canvas","loading","setLoading","url","setUrl","accessKey","setAccessKey","choice","setChoice","choiceList","setChoiceList","TopicRender1","setTopicRender1","TopicRender2","setTopicRender2","TopicRender3","setTopicRender3","wallRender1","setWallrender1","wallRender2","setWallrender2","wallRender3","setWallrender3","wallRender4","setWallrender4","wallRender5","setWallrender5","urlList","setUrlList","showModal","setShowModal","modalUrl","setModalUrl","pageCount","setPageCount","modalCount","setModalCount","TopicRenderOnce","setRenderOnce","topicList","setTopicList","makeChoiceList","topic","console","log","prevState","getModalUrl","handleLeftImageModal","event","stopPropagation","prev","x","handleRightImageModal","length","i","loadData","map","value","get","then","res","data","results","index","rgb","color","width","height","id","ar","w","h","url_img","urls","regular","modal_elem","elem","val","display","backgroundColor","boxShadow","position","flexGrow","margin","flexgrow","e","marginTop"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport Placeholder from './Placeholder';\nimport axios from 'axios';\nimport './canvas.css';\nimport BottomScrollListener from 'react-bottom-scroll-listener'\nimport left from \"./left-chevron.png\"\nimport right from \"./right-chevron.png\"\n\nlet hexToRgb = (hex) => {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    } : null;\n  }\n\n\n\nconst Canvas = () => {\n    const [loading, setLoading] = useState(false);\n    const [url, setUrl] = useState(\"https://api.unsplash.com/\");\n    const [accessKey, setAccessKey] = useState(\"rFp4zeyJjvfOk8MSAtEemJl1PXFNPRYlM_fQL21vB-k\");\n    const [choice, setChoice] = useState(false);\n    const [choiceList, setChoiceList] = useState([]);\n    const [TopicRender1, setTopicRender1] = useState([]);\n    const [TopicRender2, setTopicRender2] = useState([]);\n    const [TopicRender3, setTopicRender3] = useState([]);\n    const [wallRender1, setWallrender1] = useState([]);\n    const [wallRender2, setWallrender2] = useState([]);\n    const [wallRender3, setWallrender3] = useState([]);\n    const [wallRender4, setWallrender4] = useState([]);\n    const [wallRender5, setWallrender5] = useState([]);\n    const [urlList, setUrlList] = useState([]);\n    const [showModal, setShowModal] = useState(false);\n    const [modalUrl, setModalUrl] = useState(\"\");\n    const [pageCount, setPageCount] = useState(1);\n    const [modalCount, setModalCount] = useState(0);\n    const [TopicRenderOnce, setRenderOnce] = useState(false);\n    const [topicList, setTopicList] = useState([\"Animals\", \"programming\", \"Music\", \"Art\", \"Food\", \"Video Games\", \"Fashion\", \"historical\", \"Web Design\", \"Landscape\", \"Beautiful women\", \"Beautiful men\", \"Cars\", \"Hairstyles\", \"Cute\", \"Adventure\", \"Sports\", \"Cinema\", \"Culture\", \"Startup\", \"LifeStyle\", \"Dance\"]);\n    \n    let makeChoiceList = (topic) => {\n        console.log(topic)\n        setChoiceList((prevState) => [...prevState, topic])\n    }\n\n    let getModalUrl = (url) => {\n        setModalUrl(url)\n        \n    }\n\n    let handleLeftImageModal = (event) => {\n        event.stopPropagation();\n        setModalCount(prev => {\n        let x = prev-1;\n        if(x>=0){\n            setModalUrl(urlList[x]);\n            return x;\n        }\n        return prev;\n        });\n        \n        \n    }\n\n    let handleRightImageModal = (event) => {\n        event.stopPropagation();\n        setModalCount(prev => {\n            let x = prev + 1;\n            if(x < urlList.length){\n                setModalUrl(urlList[x])\n                return x;\n            }\n            return prev;\n        });\n        \n    }\n\n    useEffect(()=>{\n        for(var i = 0; i < urlList.length; i++){\n            if(modalUrl==urlList[i][2]){\n                setModalUrl(urlList[i]);\n                setShowModal(true);\n                setModalCount(i);\n                break;\n            }\n        }\n\n    }, [modalUrl])\n\n\n    let loadData = () => {\n        setLoading(true);\n        if(choiceList!=[]){\n            choiceList.map((value)=>{\n                axios.get(`${url}search/photos?page=${pageCount}&client_id=${accessKey}&query=${value}`)\n                .then((res)=>{\n                    res.data.results.map((value, index)=>{\n                        let rgb = hexToRgb(value.color);\n                        let width = value.width;\n                        let height = value.height;\n                        let id = value\n                        let ar = width/height;\n                        let w = width/6;\n                        let h = height/6;\n                        if(ar <= 0.56){\n                            width = \"20em\";\n                            height = \"26.5em\";\n                        } \n                        else if(ar <= 0.71){\n                            width = \"20em\";\n                            height = \"24em\";\n                        }\n                        else if (ar <= 1){\n                            width = \"20em\";\n                            height = \"20em\";\n                        }\n                        else if(ar <= 1.25){\n                            width = \"20em\";\n                            height = \"16em\"\n                        }\n                        else{\n                            width = \"20em\";\n                            height = \"14em\";\n                        }\n\n                        let url_img = value.urls.regular;\n                        let modal_elem = [w, h, url_img];\n                        let elem = <Placeholder main={true} addUrl={val=>getModalUrl(val)} id={id} width={width} height={height} color={`${rgb.r}, ${rgb.g}, ${rgb.g}`} url={url_img}/>\n                        index = index%5;\n                        setUrlList((prev) => [...prev, modal_elem]);\n                        if(index%5==0){\n                            setWallrender1((prevState)=>[...prevState, elem]);\n                        }\n\n                        else if(index%4==0){\n                            setWallrender2((prevState)=>[...prevState, elem]);\n                        }\n\n                        else if(index%3==0 && index){\n                            setWallrender3((prevState)=>[...prevState, elem]);\n                        }\n\n                        else if(index%2==0 && index!=0){\n                            setWallrender4((prevState)=>[...prevState, elem]);\n                        }\n\n                        else{\n                            setWallrender5((prevState)=>[...prevState, elem]);\n                        }\n                        \n                    })\n                })\n            })\n        }\n        setLoading(false)\n        setPageCount((prev)=>prev+1)\n\n    }\n\n    useEffect(() => {\n        \n        if(!choice && !TopicRenderOnce){\n            topicList.map((value, index) => {\n                \n                axios.get(`${url}search/photos?page=1&client_id=${accessKey}&query=${value}`)\n                    .then((res) => {\n                        let rgb = hexToRgb(res.data.results[0].color);\n                        let width = res.data.results[0].width;\n                        let height = res.data.results[0].height;\n                        \n                        let ar = width/height;\n                        if(ar <= 0.56){\n                            width = \"16em\";\n                            height = \"22.5em\";\n                            \n                        } \n                        else if(ar <= 0.71){\n                            width = \"16em\";\n                            height = \"20em\";\n                        }\n                        else if (ar <= 1){\n                            width = \"16em\";\n                            height = \"16em\";\n                        }\n                        else if(ar <= 1.25){\n                            width = \"16em\";\n                            height = \"12em\"\n                        }\n                        else{\n                            width = \"16em\";\n                            height = \"10em\";\n                        }\n\n                        let url_img = res.data.results[0].urls.regular;\n                        let elem = <Placeholder id={index} main={false}  addTopic={(val)=>makeChoiceList(val)} topic={value}  width={width} height={height} color={`${rgb.r}, ${rgb.g}, ${rgb.g}`} url={url_img}/>\n                        if(index%3==0 && index!=0){\n                            \n                            setTopicRender3((prev)=>[...prev, elem])\n                        }\n                        else if(index%2==0 && index!=0){\n                            \n                            setTopicRender2((prev)=>[...prev, elem])\n                        }\n                        else{\n                           \n                            setTopicRender1((prev)=>[...prev, elem])\n                        }\n                        \n                    })\n                \n                return value;\n            })\n        }\n        setRenderOnce(true)\n    }, [])\n    \n    \n    \n    return (\n        <>\n            {\n                !showModal?\n                <>\n                <div style={{display:\"flex\", width:\"100vw\", height:\"6em\", backgroundColor:\"white\", boxShadow: \"0 8px 6px -6px #b0b0b0\", position:\"sticky\"}}>\n                    <div className=\"Company\" style={{flexGrow:2, margin:\"auto\"}}>\n                        <h2 style={{ margin:\"0\"}}>\n                            PhotoBooth\n                        </h2>\n                    </div>\n                    <div style={{flexGrow:8}}> </div>\n                    <div style={{flexgrow:2}}> </div>\n                </div>\n                <div  className=\"Row\" >\n                    {\n                        !choice?\n                            <div>\n                                <div className=\"First-card\">\n                                    <div>\n                                        <h2>Select your favourite topics</h2>\n                                    </div>\n                                    <div className=\"Row2\">\n                                        <div className=\"Column\">\n                                        {TopicRender1}\n                                        </div>\n                                        <div className=\"Column\">\n                                            {TopicRender2}\n                                        </div>\n                                        <div className=\"Column\">\n                                            {TopicRender3}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"button\" onClick={()=>{\n                                    setChoice(true)\n                                    loadData()\n                                }} >\n                                    <p style={{color:\"white\", margin:\"0\"}}>Done</p>\n                                </div>\n                            </div>\n                            :\n                            <>\n                                <div  className=\"Column\">\n                                    {wallRender1}\n                                </div>\n                                <div className=\"Column\">\n                                    {wallRender2}\n                                </div>\n                                <div className=\"Column\">\n                                    {wallRender3}\n                                </div>\n                                <div className=\"Column\">\n                                    {wallRender4}\n                                </div>\n                                <div className=\"Column\">\n                                    {wallRender5}\n                                </div>\n                                <BottomScrollListener onBottom={()=>loadData()} />\n                            </>  \n                        }\n                </div>\n                </>\n                :\n                <div onClick={()=>setShowModal(false)} className=\"Row3\" >\n                <div onClick={(e)=>handleLeftImageModal(e)} className=\"arrow\" style={{right:\"0\", marginTop:modalUrl[1]/2.3+20}}>\n                    <img style={{height: \"100%\", width: \"100%\"}}   src={left}></img>\n                </div>\n                <div style={{width:modalUrl[0], height:modalUrl[1], marginTop:\"20px\", boxShadow: \"0 2.8px 2.2px rgba(92, 92, 92, 0.034), 0 6.7px 5.3px rgba(92, 92, 92, 0.048), 0 12.5px 10px rgba(92, 92, 92, 0.06), 0 22.3px 17.9px rgba(92, 92, 92, 0.072), 0 41.8px 33.4px rgba(92, 92, 92, 0.086), 0 100px 80px rgba(92, 92, 92, 0.12)\"}} >\n                    <img style={{height: \"100%\", width: \"100%\"}} src={modalUrl[2]} />\n                </div>\n                <div onClick={(e)=>handleRightImageModal(e)} className=\"arrow\" style={{left:\"0\", marginTop:modalUrl[1]/2.3+20}}>\n                    <img style={{height: \"100%\", width: \"100%\"}}   src={right}></img>\n                </div>\n                </div>\n                }\n        </>\n    );\n};\n\nexport default Canvas;"]},"metadata":{},"sourceType":"module"}